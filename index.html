<!DOCTYPE html>
<html lang="no">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ReBell UB</title>

  <link rel="stylesheet" href="rebell_css/style.css">
  <link
    rel="stylesheet"
    href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css"
    >
</head>
<body>
<header>
  <div class="logo">ReBell UB</div>
  
  <button class="hamburger" id="hamburger">
    <i class="fa-solid fa-bars"></i>
  </button>

  <nav id="nav">
    <ul>
      <li><a href="#hjem">Hjem</a></li>
      <li><a href="#om-oss">Om oss</a></li>
      <li><a href="#utvalg">Utvalg</a></li>
      <li><a href="devsidemain.html">DevSide</a></li>
    </ul>
  </nav>
</header>

<!--UI COMPONENT SOM BLE HENTET FRA FRAMER (UTEN REACT) MÅ ENDRES? SNAKKE MED RESTEN AV TEAM-->
<section class="hero" id="hjem">
  <div class="typewriter-container">
    <div class="typewriter">
      <span id="type-text"></span>
      <span class="caret"></span>
    </div>

    <p class="hero-sub">
      High-end kettle-bells laget med resirkulerte materialer.
      Ungdomsbedrift</p>

    <a href="#utvalg" class="btn">Se utvalget</a>
  </div>
</section>

<section class="kettlebell-visual">
  <canvas id="kettlebellCanvas"></canvas>
</section>

<section class="products" id="utvalg">
  <div class="section-inner">
    <h2>Vårt utvalg</h2>

    <div class="product-grid">
      <div class="product-card">
        <img src="https://fitnessshoppen.no/images/14TUSCL102%202-p.jpg" alt="ReBell 2kg">
        <h3>ReBell 2kg</h3>
        <p>Small</p>
      </div>

      <div class="product-card">
        <img src="https://fitnessshoppen.no/images/14TUSCL102%202-p.jpg" alt="ReBell 6kg">
        <h3>ReBell 6kg</h3>
        <p>Medium</p>
      </div>

      <div class="product-card">
        <img src="https://fitnessshoppen.no/images/14TUSCL106-p.jpg" alt="ReBell 10kg">
        <h3>ReBell 10kg</h3>
        <p>Large</p>
      </div>
    </div>
  </div>
</section>

<div class="produktvideo">
<h3>Produktvideo</h3>
<p>Hvordan blir våre ReBell kettle-bells lagd?</p>
<br>
  <iframe src="https://www.youtube.com/embed/Hz1oWnLT9JA?si=607FEO5uYrj8C6Fu" allowfullscreen></iframe>
</div>

<section class="about">
<p>
  <h2>Hvorfor kjøpe ReBell?</h2>
  Når du kjøper en kettle-bells fra oss, bidrar du til en mer bærekraftig fremtid...
</p>
</section>

<section class="about" id="om-oss">
  <h2>Om oss</h2>
  <p>
    Det skal stå tekst her om hvem vi er og hva vi gjør...
  </p>
</section>


<footer>
  <div class="socials">
    <a href="#"><i class="fa-brands fa-youtube"></i></a>
    <a href="#"><i class="fa-brands fa-instagram"></i></a>
    <a href="#"><i class="fa-brands fa-tiktok"></i></a>
    <a href="#"><i class="fa-brands fa-linkedin-in"></i></a>
  </div>

  <p>ReBell 2025 ©</p>
</footer>

<div class="product-modal" id="productModal">
  <div class="modal-content">
    <span class="close">&times;</span>
    <img id="modalImage" src="" alt="">
    <h3 id="modalTitle"></h3>
    <p id="modalDescription"></p>
  </div>
</div>

<script>
  const modal = document.getElementById("productModal");

  document.querySelectorAll(".product-card").forEach(card => {
    card.addEventListener("click", () => {
      document.getElementById("modalImage").src =
        card.querySelector("img").src;

      document.getElementById("modalTitle").innerText =
        card.querySelector("h3").innerText;

      document.getElementById("modalDescription").innerText =
        card.querySelector("p").innerText;

      modal.classList.add("active");
    });
  });

  document.querySelector(".close").onclick = () => {
    modal.classList.remove("active");
  };


const text = "ReBell";
  const speed = 120;

  const el = document.getElementById("type-text");
  let index = 0;

  function type() {
    if (index < text.length) {
      el.textContent += text.charAt(index);
      index++;
      setTimeout(type, speed);
    }
  }

  type();

  /* HAMBURGER MENU RESTEN (INTERAKTIV MED JS) TEAM? */
const hamburger = document.getElementById("hamburger");
const nav = document.getElementById("nav");

hamburger.addEventListener("click", () => {
  nav.classList.toggle("active");
  document.body.classList.toggle("no-scroll");
});

document.querySelectorAll("#nav a").forEach(link => {
  link.addEventListener("click", () => {
    nav.classList.remove("active");
    document.body.classList.remove("no-scroll");
  });
});


const canvas = document.getElementById("kettlebellCanvas");
const ctx = canvas.getContext("2d");


function resizeCanvas() {
  canvas.width = canvas.offsetWidth;
  canvas.height = canvas.offsetHeight;
}
resizeCanvas();
window.addEventListener("resize", resizeCanvas);

const mouse = {
  x: 0,
  y: 0,
  active: false,
  radius: 140
};

canvas.addEventListener("mousemove", e => {
  const rect = canvas.getBoundingClientRect();
  mouse.x = e.clientX - rect.left;
  mouse.y = e.clientY - rect.top;
  mouse.active = true;
});

canvas.addEventListener("mouseleave", () => {
  mouse.active = false;
});

/* Rigid body (object motion) */
const body = {
  angle: 0,
  angularVelocity: 0.0025,
  angularDamping: 0.999
};

const PARTICLE_COUNT = 2600;
const REST_STRENGTH = 0.004;
const DAMPING = 0.985;
const PARTICLE_RADIUS = 1.2;

function generateLocalKettlebell(count) {
  const pts = [];
  while (pts.length < count) {
    const x = (Math.random() * 2 - 1) * 180;
    const y = (Math.random() * 2 - 1) * 260;

    const bodyPart = (x * x + (y - 60) * (y - 60)) < 170 * 170;

    const handleOuter =
      (x * x) / (150 * 150) + ((y + 140) * (y + 140)) / (80 * 80) < 1;

    const handleInner =
      (x * x) / (90 * 90) + ((y + 140) * (y + 140)) / (45 * 45) < 1;

    if (bodyPart || (handleOuter && !handleInner)) {
      pts.push({ x, y });
    }
  }
  return pts;
}

/* Particle */
class Particle {
  constructor(local) {
    this.local = local;
    this.x = 0;
    this.y = 0;
    this.vx = 0;
    this.vy = 0;
    this.mass = 0.8 + Math.random() * 0.6;
  }

  update(tx, ty) {
    /* Restoring force */
    this.vx += (tx - this.x) * REST_STRENGTH;
    this.vy += (ty - this.y) * REST_STRENGTH;

    /* Mouse interaction */
    if (mouse.active) {
      const dx = this.x - mouse.x;
      const dy = this.y - mouse.y;
      const dist = Math.sqrt(dx * dx + dy * dy);

      if (dist < mouse.radius && dist > 1) {
        const force = (1 - dist / mouse.radius) * 0.6;
        this.vx += (dx / dist) * force;
        this.vy += (dy / dist) * force;
      }
    }

    this.vx *= DAMPING;
    this.vy *= DAMPING;
    this.x += this.vx;
    this.y += this.vy;
  }

  draw() {
    ctx.beginPath();
    ctx.arc(this.x, this.y, PARTICLE_RADIUS, 0, Math.PI * 2);
    ctx.fillStyle = "white";
    ctx.fill();
  }
}

const localPoints = generateLocalKettlebell(PARTICLE_COUNT);
const particles = localPoints.map(p => new Particle(p));


function animate() {
  ctx.clearRect(0, 0, canvas.width, canvas.height);

  body.angle += body.angularVelocity;
  body.angularVelocity *= body.angularDamping;

  const cos = Math.cos(body.angle);
  const sin = Math.sin(body.angle);

  const cx = canvas.width / 2;
  const cy = canvas.height / 2;

  for (const p of particles) {
    
    const tx = cx + p.local.x * cos - p.local.y * sin;
    const ty = cy + p.local.x * sin + p.local.y * cos;

    
    if (p.x === 0 && p.y === 0) {
      p.x = tx;
      p.y = ty;
    }

    p.update(tx, ty);
    p.draw();
  }

  requestAnimationFrame(animate);
}

animate();

</script>

</body>
</html>
